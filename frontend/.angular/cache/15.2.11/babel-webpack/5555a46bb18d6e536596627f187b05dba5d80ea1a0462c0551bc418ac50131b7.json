{"ast":null,"code":"import { MessageType } from '../../models/message.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction MessageComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r0.systemMessageIcon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.message.content, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.formattedTime, \" \");\n  }\n}\nfunction MessageComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.message.sender.username, \" \");\n  }\n}\nfunction MessageComponent_div_2_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"i\", 14);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MessageComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, MessageComponent_div_2_div_1_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, MessageComponent_div_2_div_6_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.messageTypeClass);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.isGroupChat || !ctx_r1.isSentByCurrentUser) && !ctx_r1.isSystemMessage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.message.content, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formattedTime, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isSentByCurrentUser);\n  }\n}\nexport class MessageComponent {\n  constructor() {\n    this.isGroupChat = false;\n  }\n  get isSentByCurrentUser() {\n    return this.message.sender.id === this.currentUser.id;\n  }\n  get isSystemMessage() {\n    return this.message.type === MessageType.JOIN || this.message.type === MessageType.LEAVE;\n  }\n  get messageTypeClass() {\n    if (this.isSystemMessage) {\n      return 'system-message';\n    }\n    return this.isSentByCurrentUser ? 'message-sent' : 'message-received';\n  }\n  get formattedTime() {\n    const now = new Date();\n    const messageTime = new Date(this.message.timestamp);\n    const diffInHours = (now.getTime() - messageTime.getTime()) / (1000 * 60 * 60);\n    if (diffInHours < 24) {\n      // Show time only if message is from today\n      return messageTime.toLocaleTimeString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: true\n      });\n    } else {\n      // Show date and time if message is older\n      return messageTime.toLocaleString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: true\n      });\n    }\n  }\n  get systemMessageIcon() {\n    switch (this.message.type) {\n      case MessageType.JOIN:\n        return 'fas fa-sign-in-alt';\n      case MessageType.LEAVE:\n        return 'fas fa-sign-out-alt';\n      default:\n        return 'fas fa-info-circle';\n    }\n  }\n  static {\n    this.ɵfac = function MessageComponent_Factory(t) {\n      return new (t || MessageComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MessageComponent,\n      selectors: [[\"app-message\"]],\n      inputs: {\n        message: \"message\",\n        currentUser: \"currentUser\",\n        isGroupChat: \"isGroupChat\"\n      },\n      decls: 3,\n      vars: 3,\n      consts: [[1, \"message-wrapper\", 3, \"ngClass\"], [\"class\", \"system-message-content\", 4, \"ngIf\"], [\"class\", \"message-bubble\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"system-message-content\"], [1, \"system-message-icon\"], [1, \"system-message-text\"], [1, \"system-message-time\"], [1, \"message-bubble\", 3, \"ngClass\"], [\"class\", \"message-sender\", 4, \"ngIf\"], [1, \"message-content\"], [1, \"message-time\"], [\"class\", \"message-status\", 4, \"ngIf\"], [1, \"message-sender\"], [1, \"message-status\"], [\"title\", \"Sent\", 1, \"fas\", \"fa-check\"]],\n      template: function MessageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, MessageComponent_div_1_Template, 7, 4, \"div\", 1);\n          i0.ɵɵtemplate(2, MessageComponent_div_2_Template, 7, 5, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngClass\", ctx.messageTypeClass);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isSystemMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSystemMessage);\n        }\n      },\n      dependencies: [i1.NgClass, i1.NgIf],\n      styles: [\".message-wrapper[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  margin-bottom: 1.25rem;\\r\\n  animation: _ngcontent-%COMP%_slideInMessage 0.4s ease-out;\\r\\n}\\r\\n\\r\\n@keyframes _ngcontent-%COMP%_slideInMessage {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translateY(15px) scale(0.95);\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: translateY(0) scale(1);\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes _ngcontent-%COMP%_fadeIn {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translateY(10px);\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: translateY(0);\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n.system-message[_ngcontent-%COMP%] {\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.system-message-content[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  background: rgba(255, 255, 255, 0.1);\\r\\n  backdrop-filter: blur(10px);\\r\\n  border: 1px solid rgba(102, 126, 234, 0.2);\\r\\n  border-radius: 25px;\\r\\n  padding: 0.75rem 1.5rem;\\r\\n  font-size: 0.875rem;\\r\\n  color: #667eea;\\r\\n  max-width: 80%;\\r\\n  font-weight: 500;\\r\\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);\\r\\n}\\r\\n\\r\\n.system-message-icon[_ngcontent-%COMP%] {\\r\\n  margin-right: 0.75rem;\\r\\n  color: #667eea;\\r\\n  font-size: 1rem;\\r\\n}\\r\\n\\r\\n.system-message-text[_ngcontent-%COMP%] {\\r\\n  flex: 1;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.system-message-time[_ngcontent-%COMP%] {\\r\\n  margin-left: 0.75rem;\\r\\n  font-size: 0.75rem;\\r\\n  opacity: 0.8;\\r\\n  color: #a0aec0;\\r\\n}\\r\\n\\r\\n\\r\\n.message-bubble[_ngcontent-%COMP%] {\\r\\n  max-width: 75%;\\r\\n  padding: 1rem 1.25rem;\\r\\n  border-radius: 20px;\\r\\n  word-wrap: break-word;\\r\\n  position: relative;\\r\\n  transition: all 0.3s ease;\\r\\n  backdrop-filter: blur(10px);\\r\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\r\\n}\\r\\n\\r\\n.message-bubble[_ngcontent-%COMP%]:hover {\\r\\n  transform: translateY(-2px);\\r\\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%] {\\r\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\r\\n  color: white;\\r\\n  margin-left: auto;\\r\\n  border-bottom-right-radius: 8px;\\r\\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%]:hover {\\r\\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\\r\\n}\\r\\n\\r\\n.message-received[_ngcontent-%COMP%] {\\r\\n  background: rgba(255, 255, 255, 0.9);\\r\\n  color: #2d3748;\\r\\n  border: 1px solid rgba(102, 126, 234, 0.1);\\r\\n  border-bottom-left-radius: 8px;\\r\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);\\r\\n}\\r\\n\\r\\n.message-received[_ngcontent-%COMP%]:hover {\\r\\n  background: rgba(255, 255, 255, 1);\\r\\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.message-sender[_ngcontent-%COMP%] {\\r\\n  font-size: 0.8rem;\\r\\n  font-weight: 700;\\r\\n  margin-bottom: 0.5rem;\\r\\n  opacity: 0.9;\\r\\n  text-transform: capitalize;\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%] {\\r\\n  color: rgba(255, 255, 255, 0.95);\\r\\n}\\r\\n\\r\\n.message-received[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%] {\\r\\n  color: #667eea;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 0.5rem;\\r\\n  line-height: 1.5;\\r\\n  white-space: pre-wrap;\\r\\n  font-size: 0.95rem;\\r\\n}\\r\\n\\r\\n.message-time[_ngcontent-%COMP%] {\\r\\n  font-size: 0.75rem;\\r\\n  opacity: 0.8;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n  font-weight: 500;\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%] {\\r\\n  color: rgba(255, 255, 255, 0.8);\\r\\n}\\r\\n\\r\\n.message-received[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%] {\\r\\n  color: #a0aec0;\\r\\n}\\r\\n\\r\\n.message-status[_ngcontent-%COMP%] {\\r\\n  display: inline-flex;\\r\\n  align-items: center;\\r\\n  margin-left: 0.75rem;\\r\\n}\\r\\n\\r\\n.message-status[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  font-size: 0.8rem;\\r\\n  opacity: 0.9;\\r\\n  transition: all 0.3s ease;\\r\\n}\\r\\n\\r\\n.message-status[_ngcontent-%COMP%]   i.fa-check[_ngcontent-%COMP%] {\\r\\n  color: #a0aec0;\\r\\n}\\r\\n\\r\\n.message-status[_ngcontent-%COMP%]   i.fa-check-double[_ngcontent-%COMP%] {\\r\\n  color: #48bb78;\\r\\n}\\r\\n\\r\\n\\r\\n@media (max-width: 768px) {\\r\\n  .message-bubble[_ngcontent-%COMP%] {\\r\\n    max-width: 85%;\\r\\n    padding: 0.6rem 0.8rem;\\r\\n  }\\r\\n  \\r\\n  .system-message-content[_ngcontent-%COMP%] {\\r\\n    max-width: 90%;\\r\\n    padding: 0.4rem 0.8rem;\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n.message-wrapper[_ngcontent-%COMP%]    + .message-wrapper.message-sent[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%], .message-wrapper[_ngcontent-%COMP%]    + .message-wrapper.message-received[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%] {\\r\\n  margin-top: -0.5rem;\\r\\n}\\r\\n\\r\\n\\r\\n.message-content[_ngcontent-%COMP%] {\\r\\n  max-height: 200px;\\r\\n  overflow-y: auto;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%]::-webkit-scrollbar {\\r\\n  width: 4px;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%]::-webkit-scrollbar-track {\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\r\\n  background: rgba(0, 0, 0, 0.2);\\r\\n  border-radius: 2px;\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\r\\n  background: rgba(255, 255, 255, 0.3);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2Q0FBNkM7QUFDN0M7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVDQUF1QztBQUN6Qzs7QUFFQTtFQUNFO0lBQ0UsVUFBVTtJQUNWLHVDQUF1QztFQUN6QztFQUNBO0lBQ0UsVUFBVTtJQUNWLGlDQUFpQztFQUNuQztBQUNGOztBQUVBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsMkJBQTJCO0VBQzdCO0VBQ0E7SUFDRSxVQUFVO0lBQ1Ysd0JBQXdCO0VBQzFCO0FBQ0Y7O0FBRUEsNkJBQTZCO0FBQzdCO0VBQ0UsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixvQ0FBb0M7RUFDcEMsMkJBQTJCO0VBQzNCLDBDQUEwQztFQUMxQyxtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2QsY0FBYztFQUNkLGdCQUFnQjtFQUNoQiwrQ0FBK0M7QUFDakQ7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsY0FBYztFQUNkLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxPQUFPO0VBQ1Asa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osY0FBYztBQUNoQjs7QUFFQSxtQ0FBbUM7QUFDbkM7RUFDRSxjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLG1CQUFtQjtFQUNuQixxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QiwyQkFBMkI7RUFDM0IsMENBQTBDO0FBQzVDOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLDZEQUE2RDtFQUM3RCxZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLCtCQUErQjtFQUMvQiwrQ0FBK0M7QUFDakQ7O0FBRUE7RUFDRSwrQ0FBK0M7QUFDakQ7O0FBRUE7RUFDRSxvQ0FBb0M7RUFDcEMsY0FBYztFQUNkLDBDQUEwQztFQUMxQyw4QkFBOEI7RUFDOUIsMENBQTBDO0FBQzVDOztBQUVBO0VBQ0Usa0NBQWtDO0VBQ2xDLHlDQUF5QztBQUMzQzs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLFlBQVk7RUFDWiwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLDhCQUE4QjtFQUM5QixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSwrQkFBK0I7QUFDakM7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBLDJCQUEyQjtBQUMzQjtFQUNFO0lBQ0UsY0FBYztJQUNkLHNCQUFzQjtFQUN4Qjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxzQkFBc0I7RUFDeEI7QUFDRjs7QUFFQSwrRUFBK0U7QUFDL0U7O0VBRUUsbUJBQW1CO0FBQ3JCOztBQUVBLHNDQUFzQztBQUN0QztFQUNFLGlCQUFpQjtFQUNqQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDIiwic291cmNlc0NvbnRlbnQiOlsiLyogTWVzc2FnZSB3cmFwcGVyIHdpdGggZW5oYW5jZWQgYW5pbWF0aW9ucyAqL1xyXG4ubWVzc2FnZS13cmFwcGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi1ib3R0b206IDEuMjVyZW07XHJcbiAgYW5pbWF0aW9uOiBzbGlkZUluTWVzc2FnZSAwLjRzIGVhc2Utb3V0O1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNsaWRlSW5NZXNzYWdlIHtcclxuICBmcm9tIHtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTVweCkgc2NhbGUoMC45NSk7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCkgc2NhbGUoMSk7XHJcbiAgfVxyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGVJbiB7XHJcbiAgZnJvbSB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gIH1cclxufVxyXG5cclxuLyogRW5oYW5jZWQgU3lzdGVtIE1lc3NhZ2VzICovXHJcbi5zeXN0ZW0tbWVzc2FnZSB7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zeXN0ZW0tbWVzc2FnZS1jb250ZW50IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xyXG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcclxuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMik7XHJcbiAgYm9yZGVyLXJhZGl1czogMjVweDtcclxuICBwYWRkaW5nOiAwLjc1cmVtIDEuNXJlbTtcclxuICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gIGNvbG9yOiAjNjY3ZWVhO1xyXG4gIG1heC13aWR0aDogODAlO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMSk7XHJcbn1cclxuXHJcbi5zeXN0ZW0tbWVzc2FnZS1pY29uIHtcclxuICBtYXJnaW4tcmlnaHQ6IDAuNzVyZW07XHJcbiAgY29sb3I6ICM2NjdlZWE7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG59XHJcblxyXG4uc3lzdGVtLW1lc3NhZ2UtdGV4dCB7XHJcbiAgZmxleDogMTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zeXN0ZW0tbWVzc2FnZS10aW1lIHtcclxuICBtYXJnaW4tbGVmdDogMC43NXJlbTtcclxuICBmb250LXNpemU6IDAuNzVyZW07XHJcbiAgb3BhY2l0eTogMC44O1xyXG4gIGNvbG9yOiAjYTBhZWMwO1xyXG59XHJcblxyXG4vKiBFbmhhbmNlZCBSZWd1bGFyIENoYXQgTWVzc2FnZXMgKi9cclxuLm1lc3NhZ2UtYnViYmxlIHtcclxuICBtYXgtd2lkdGg6IDc1JTtcclxuICBwYWRkaW5nOiAxcmVtIDEuMjVyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcclxufVxyXG5cclxuLm1lc3NhZ2UtYnViYmxlOmhvdmVyIHtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbiAgYm94LXNoYWRvdzogMCA4cHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xyXG59XHJcblxyXG4ubWVzc2FnZS1zZW50IHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogOHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjMpO1xyXG59XHJcblxyXG4ubWVzc2FnZS1zZW50OmhvdmVyIHtcclxuICBib3gtc2hhZG93OiAwIDhweCAyNXB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KTtcclxufVxyXG5cclxuLm1lc3NhZ2UtcmVjZWl2ZWQge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTtcclxuICBjb2xvcjogIzJkMzc0ODtcclxuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMSk7XHJcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogOHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcclxufVxyXG5cclxuLm1lc3NhZ2UtcmVjZWl2ZWQ6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7XHJcbiAgYm94LXNoYWRvdzogMCA4cHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbi5tZXNzYWdlLXNlbmRlciB7XHJcbiAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbiAgb3BhY2l0eTogMC45O1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG59XHJcblxyXG4ubWVzc2FnZS1zZW50IC5tZXNzYWdlLXNlbmRlciB7XHJcbiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45NSk7XHJcbn1cclxuXHJcbi5tZXNzYWdlLXJlY2VpdmVkIC5tZXNzYWdlLXNlbmRlciB7XHJcbiAgY29sb3I6ICM2NjdlZWE7XHJcbn1cclxuXHJcbi5tZXNzYWdlLWNvbnRlbnQge1xyXG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcclxuICBsaW5lLWhlaWdodDogMS41O1xyXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxuICBmb250LXNpemU6IDAuOTVyZW07XHJcbn1cclxuXHJcbi5tZXNzYWdlLXRpbWUge1xyXG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcclxuICBvcGFjaXR5OiAwLjg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4ubWVzc2FnZS1zZW50IC5tZXNzYWdlLXRpbWUge1xyXG4gIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XHJcbn1cclxuXHJcbi5tZXNzYWdlLXJlY2VpdmVkIC5tZXNzYWdlLXRpbWUge1xyXG4gIGNvbG9yOiAjYTBhZWMwO1xyXG59XHJcblxyXG4ubWVzc2FnZS1zdGF0dXMge1xyXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWxlZnQ6IDAuNzVyZW07XHJcbn1cclxuXHJcbi5tZXNzYWdlLXN0YXR1cyBpIHtcclxuICBmb250LXNpemU6IDAuOHJlbTtcclxuICBvcGFjaXR5OiAwLjk7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxufVxyXG5cclxuLm1lc3NhZ2Utc3RhdHVzIGkuZmEtY2hlY2sge1xyXG4gIGNvbG9yOiAjYTBhZWMwO1xyXG59XHJcblxyXG4ubWVzc2FnZS1zdGF0dXMgaS5mYS1jaGVjay1kb3VibGUge1xyXG4gIGNvbG9yOiAjNDhiYjc4O1xyXG59XHJcblxyXG4vKiBSZXNwb25zaXZlIGFkanVzdG1lbnRzICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIC5tZXNzYWdlLWJ1YmJsZSB7XHJcbiAgICBtYXgtd2lkdGg6IDg1JTtcclxuICAgIHBhZGRpbmc6IDAuNnJlbSAwLjhyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC5zeXN0ZW0tbWVzc2FnZS1jb250ZW50IHtcclxuICAgIG1heC13aWR0aDogOTAlO1xyXG4gICAgcGFkZGluZzogMC40cmVtIDAuOHJlbTtcclxuICB9XHJcbn1cclxuXHJcbi8qIE1lc3NhZ2UgZ3JvdXBpbmcgLSByZWR1Y2UgbWFyZ2luIGZvciBjb25zZWN1dGl2ZSBtZXNzYWdlcyBmcm9tIHNhbWUgc2VuZGVyICovXHJcbi5tZXNzYWdlLXdyYXBwZXIgKyAubWVzc2FnZS13cmFwcGVyLm1lc3NhZ2Utc2VudCAubWVzc2FnZS1idWJibGUsXHJcbi5tZXNzYWdlLXdyYXBwZXIgKyAubWVzc2FnZS13cmFwcGVyLm1lc3NhZ2UtcmVjZWl2ZWQgLm1lc3NhZ2UtYnViYmxlIHtcclxuICBtYXJnaW4tdG9wOiAtMC41cmVtO1xyXG59XHJcblxyXG4vKiBTcGVjaWFsIHN0eWxpbmcgZm9yIGxvbmcgbWVzc2FnZXMgKi9cclxuLm1lc3NhZ2UtY29udGVudCB7XHJcbiAgbWF4LWhlaWdodDogMjAwcHg7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxufVxyXG5cclxuLm1lc3NhZ2UtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gIHdpZHRoOiA0cHg7XHJcbn1cclxuXHJcbi5tZXNzYWdlLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLm1lc3NhZ2UtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICBib3JkZXItcmFkaXVzOiAycHg7XHJcbn1cclxuXHJcbi5tZXNzYWdlLXNlbnQgLm1lc3NhZ2UtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAAkBA,WAAW,QAAQ,4BAA4B;;;;;ICC/DC,8BAA4D;IAExDA,oBAAmC;IACrCA,iBAAM;IACNA,8BAAiC;IAC/BA,YACF;IAAAA,iBAAM;IACNA,8BAAiC;IAC/BA,YACF;IAAAA,iBAAM;;;;IAPDA,eAA2B;IAA3BA,uCAA2B;IAG9BA,eACF;IADEA,uDACF;IAEEA,eACF;IADEA,qDACF;;;;;IAMAA,+BAA8F;IAC5FA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,+DACF;;;;;IAaAA,+BAAwD;IACtDA,wBAAyC;IAC3CA,iBAAM;;;;;IAnBRA,8BAAkF;IAEhFA,uEAEM;IAGNA,8BAA6B;IAC3BA,YACF;IAAAA,iBAAM;IAGNA,+BAA0B;IACxBA,YACF;IAAAA,iBAAM;IAGNA,wEAEM;IACRA,iBAAM;;;;IApB+CA,iDAA4B;IAEzEA,eAA+D;IAA/DA,qGAA+D;IAMnEA,eACF;IADEA,uDACF;IAIEA,eACF;IADEA,qDACF;IAGMA,eAAyB;IAAzBA,iDAAyB;;;ADvBnC,OAAM,MAAOC,gBAAgB;EAL7BC;IAQW,gBAAW,GAAY,KAAK;;EAErC,IAAIC,mBAAmB;IACrB,OAAO,IAAI,CAACC,OAAO,CAACC,MAAM,CAACC,EAAE,KAAK,IAAI,CAACC,WAAW,CAACD,EAAE;EACvD;EAEA,IAAIE,eAAe;IACjB,OAAO,IAAI,CAACJ,OAAO,CAACK,IAAI,KAAKV,WAAW,CAACW,IAAI,IAAI,IAAI,CAACN,OAAO,CAACK,IAAI,KAAKV,WAAW,CAACY,KAAK;EAC1F;EAEA,IAAIC,gBAAgB;IAClB,IAAI,IAAI,CAACJ,eAAe,EAAE;MACxB,OAAO,gBAAgB;;IAEzB,OAAO,IAAI,CAACL,mBAAmB,GAAG,cAAc,GAAG,kBAAkB;EACvE;EAEA,IAAIU,aAAa;IACf,MAAMC,GAAG,GAAG,IAAIC,IAAI,EAAE;IACtB,MAAMC,WAAW,GAAG,IAAID,IAAI,CAAC,IAAI,CAACX,OAAO,CAACa,SAAS,CAAC;IACpD,MAAMC,WAAW,GAAG,CAACJ,GAAG,CAACK,OAAO,EAAE,GAAGH,WAAW,CAACG,OAAO,EAAE,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;IAE9E,IAAID,WAAW,GAAG,EAAE,EAAE;MACpB;MACA,OAAOF,WAAW,CAACI,kBAAkB,CAAC,OAAO,EAAE;QAC7CC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE;OACT,CAAC;KACH,MAAM;MACL;MACA,OAAOP,WAAW,CAACQ,cAAc,CAAC,OAAO,EAAE;QACzCC,KAAK,EAAE,OAAO;QACdC,GAAG,EAAE,SAAS;QACdL,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE;OACT,CAAC;;EAEN;EAEA,IAAII,iBAAiB;IACnB,QAAQ,IAAI,CAACvB,OAAO,CAACK,IAAI;MACvB,KAAKV,WAAW,CAACW,IAAI;QACnB,OAAO,oBAAoB;MAC7B,KAAKX,WAAW,CAACY,KAAK;QACpB,OAAO,qBAAqB;MAC9B;QACE,OAAO,oBAAoB;IAAC;EAElC;;;uBArDWV,gBAAgB;IAAA;EAAA;;;YAAhBA,gBAAgB;MAAA2B;MAAAC;QAAAzB;QAAAG;QAAAuB;MAAA;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCT7BlC,8BAA0D;UAExDA,iEAUM;UAGNA,iEAoBM;UACRA,iBAAM;;;UApCuBA,8CAA4B;UAEjDA,eAAqB;UAArBA,0CAAqB;UAarBA,eAAsB;UAAtBA,2CAAsB","names":["MessageType","i0","MessageComponent","constructor","isSentByCurrentUser","message","sender","id","currentUser","isSystemMessage","type","JOIN","LEAVE","messageTypeClass","formattedTime","now","Date","messageTime","timestamp","diffInHours","getTime","toLocaleTimeString","hour","minute","hour12","toLocaleString","month","day","systemMessageIcon","selectors","inputs","isGroupChat","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\swatip\\Documents\\FSD Projects\\Chatting-Application\\frontend\\src\\app\\components\\message\\message.component.ts","C:\\Users\\swatip\\Documents\\FSD Projects\\Chatting-Application\\frontend\\src\\app\\components\\message\\message.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\r\nimport { Message, MessageType } from '../../models/message.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-message',\r\n  templateUrl: './message.component.html',\r\n  styleUrls: ['./message.component.css']\r\n})\r\nexport class MessageComponent {\r\n  @Input() message!: Message;\r\n  @Input() currentUser!: User;\r\n  @Input() isGroupChat: boolean = false;\r\n\r\n  get isSentByCurrentUser(): boolean {\r\n    return this.message.sender.id === this.currentUser.id;\r\n  }\r\n\r\n  get isSystemMessage(): boolean {\r\n    return this.message.type === MessageType.JOIN || this.message.type === MessageType.LEAVE;\r\n  }\r\n\r\n  get messageTypeClass(): string {\r\n    if (this.isSystemMessage) {\r\n      return 'system-message';\r\n    }\r\n    return this.isSentByCurrentUser ? 'message-sent' : 'message-received';\r\n  }\r\n\r\n  get formattedTime(): string {\r\n    const now = new Date();\r\n    const messageTime = new Date(this.message.timestamp);\r\n    const diffInHours = (now.getTime() - messageTime.getTime()) / (1000 * 60 * 60);\r\n\r\n    if (diffInHours < 24) {\r\n      // Show time only if message is from today\r\n      return messageTime.toLocaleTimeString('en-US', { \r\n        hour: '2-digit', \r\n        minute: '2-digit',\r\n        hour12: true \r\n      });\r\n    } else {\r\n      // Show date and time if message is older\r\n      return messageTime.toLocaleString('en-US', { \r\n        month: 'short', \r\n        day: 'numeric',\r\n        hour: '2-digit', \r\n        minute: '2-digit',\r\n        hour12: true \r\n      });\r\n    }\r\n  }\r\n\r\n  get systemMessageIcon(): string {\r\n    switch (this.message.type) {\r\n      case MessageType.JOIN:\r\n        return 'fas fa-sign-in-alt';\r\n      case MessageType.LEAVE:\r\n        return 'fas fa-sign-out-alt';\r\n      default:\r\n        return 'fas fa-info-circle';\r\n    }\r\n  }\r\n}","<div class=\"message-wrapper\" [ngClass]=\"messageTypeClass\">\r\n  <!-- System Messages (JOIN/LEAVE) -->\r\n  <div *ngIf=\"isSystemMessage\" class=\"system-message-content\">\r\n    <div class=\"system-message-icon\">\r\n      <i [class]=\"systemMessageIcon\"></i>\r\n    </div>\r\n    <div class=\"system-message-text\">\r\n      {{ message.content }}\r\n    </div>\r\n    <div class=\"system-message-time\">\r\n      {{ formattedTime }}\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Regular Chat Messages -->\r\n  <div *ngIf=\"!isSystemMessage\" class=\"message-bubble\" [ngClass]=\"messageTypeClass\">\r\n    <!-- Sender name for group chats and received messages -->\r\n    <div *ngIf=\"(isGroupChat || !isSentByCurrentUser) && !isSystemMessage\" class=\"message-sender\">\r\n      {{ message.sender.username }}\r\n    </div>\r\n    \r\n    <!-- Message content -->\r\n    <div class=\"message-content\">\r\n      {{ message.content }}\r\n    </div>\r\n    \r\n    <!-- Message timestamp -->\r\n    <div class=\"message-time\">\r\n      {{ formattedTime }}\r\n    </div>\r\n    \r\n    <!-- Message status indicator for sent messages -->\r\n    <div *ngIf=\"isSentByCurrentUser\" class=\"message-status\">\r\n      <i class=\"fas fa-check\" title=\"Sent\"></i>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}