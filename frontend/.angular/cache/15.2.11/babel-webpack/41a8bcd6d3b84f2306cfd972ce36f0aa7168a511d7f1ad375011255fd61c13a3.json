{"ast":null,"code":"import { MessageType } from '../../models/message.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction MessageComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r0.systemMessageIcon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.message.content, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.formattedTime, \" \");\n  }\n}\nfunction MessageComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.message.sender.username, \" \");\n  }\n}\nfunction MessageComponent_div_2_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"i\", 14);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MessageComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, MessageComponent_div_2_div_1_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, MessageComponent_div_2_div_6_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.messageTypeClass);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.isGroupChat || !ctx_r1.isSentByCurrentUser) && !ctx_r1.isSystemMessage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.message.content, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formattedTime, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isSentByCurrentUser);\n  }\n}\nexport class MessageComponent {\n  constructor() {\n    this.isGroupChat = false;\n  }\n  get isSentByCurrentUser() {\n    return this.message.sender.id === this.currentUser.id;\n  }\n  get isSystemMessage() {\n    return this.message.type === MessageType.JOIN || this.message.type === MessageType.LEAVE;\n  }\n  get messageTypeClass() {\n    if (this.isSystemMessage) {\n      return 'system-message';\n    }\n    return this.isSentByCurrentUser ? 'message-sent' : 'message-received';\n  }\n  get formattedTime() {\n    const now = new Date();\n    const messageTime = new Date(this.message.timestamp);\n    const diffInHours = (now.getTime() - messageTime.getTime()) / (1000 * 60 * 60);\n    if (diffInHours < 24) {\n      // Show time only if message is from today\n      return messageTime.toLocaleTimeString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: true\n      });\n    } else {\n      // Show date and time if message is older\n      return messageTime.toLocaleString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: true\n      });\n    }\n  }\n  get systemMessageIcon() {\n    switch (this.message.type) {\n      case MessageType.JOIN:\n        return 'fas fa-sign-in-alt';\n      case MessageType.LEAVE:\n        return 'fas fa-sign-out-alt';\n      default:\n        return 'fas fa-info-circle';\n    }\n  }\n  static {\n    this.ɵfac = function MessageComponent_Factory(t) {\n      return new (t || MessageComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MessageComponent,\n      selectors: [[\"app-message\"]],\n      inputs: {\n        message: \"message\",\n        currentUser: \"currentUser\",\n        isGroupChat: \"isGroupChat\"\n      },\n      decls: 3,\n      vars: 3,\n      consts: [[1, \"message-wrapper\", 3, \"ngClass\"], [\"class\", \"system-message-content\", 4, \"ngIf\"], [\"class\", \"message-bubble\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"system-message-content\"], [1, \"system-message-icon\"], [1, \"system-message-text\"], [1, \"system-message-time\"], [1, \"message-bubble\", 3, \"ngClass\"], [\"class\", \"message-sender\", 4, \"ngIf\"], [1, \"message-content\"], [1, \"message-time\"], [\"class\", \"message-status\", 4, \"ngIf\"], [1, \"message-sender\"], [1, \"message-status\"], [\"title\", \"Sent\", 1, \"fas\", \"fa-check\"]],\n      template: function MessageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, MessageComponent_div_1_Template, 7, 4, \"div\", 1);\n          i0.ɵɵtemplate(2, MessageComponent_div_2_Template, 7, 5, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngClass\", ctx.messageTypeClass);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isSystemMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSystemMessage);\n        }\n      },\n      dependencies: [i1.NgClass, i1.NgIf],\n      styles: [\".message-wrapper[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  margin-bottom: 1rem;\\r\\n  animation: _ngcontent-%COMP%_fadeIn 0.3s ease-in;\\r\\n}\\r\\n\\r\\n@keyframes _ngcontent-%COMP%_fadeIn {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translateY(10px);\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: translateY(0);\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n.system-message[_ngcontent-%COMP%] {\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.system-message-content[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  background-color: #f8f9fa;\\r\\n  border: 1px solid #dee2e6;\\r\\n  border-radius: 20px;\\r\\n  padding: 0.5rem 1rem;\\r\\n  font-size: 0.875rem;\\r\\n  color: #6c757d;\\r\\n  max-width: 80%;\\r\\n}\\r\\n\\r\\n.system-message-icon[_ngcontent-%COMP%] {\\r\\n  margin-right: 0.5rem;\\r\\n  color: #007bff;\\r\\n}\\r\\n\\r\\n.system-message-text[_ngcontent-%COMP%] {\\r\\n  flex: 1;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.system-message-time[_ngcontent-%COMP%] {\\r\\n  margin-left: 0.5rem;\\r\\n  font-size: 0.75rem;\\r\\n  opacity: 0.7;\\r\\n}\\r\\n\\r\\n\\r\\n.message-bubble[_ngcontent-%COMP%] {\\r\\n  max-width: 70%;\\r\\n  padding: 0.75rem 1rem;\\r\\n  border-radius: 1rem;\\r\\n  word-wrap: break-word;\\r\\n  position: relative;\\r\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\\r\\n  transition: transform 0.2s ease;\\r\\n}\\r\\n\\r\\n.message-bubble[_ngcontent-%COMP%]:hover {\\r\\n  transform: translateY(-1px);\\r\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%] {\\r\\n  background: linear-gradient(135deg, #007bff, #0056b3);\\r\\n  color: white;\\r\\n  margin-left: auto;\\r\\n  border-bottom-right-radius: 0.25rem;\\r\\n}\\r\\n\\r\\n.message-received[_ngcontent-%COMP%] {\\r\\n  background-color: #ffffff;\\r\\n  color: #333;\\r\\n  border: 1px solid #dee2e6;\\r\\n  border-bottom-left-radius: 0.25rem;\\r\\n}\\r\\n\\r\\n.message-sender[_ngcontent-%COMP%] {\\r\\n  font-size: 0.75rem;\\r\\n  font-weight: 600;\\r\\n  margin-bottom: 0.25rem;\\r\\n  opacity: 0.8;\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%] {\\r\\n  color: rgba(255, 255, 255, 0.9);\\r\\n}\\r\\n\\r\\n.message-received[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%] {\\r\\n  color: #007bff;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 0.25rem;\\r\\n  line-height: 1.4;\\r\\n  white-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.message-time[_ngcontent-%COMP%] {\\r\\n  font-size: 0.75rem;\\r\\n  opacity: 0.7;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n}\\r\\n\\r\\n.message-status[_ngcontent-%COMP%] {\\r\\n  display: inline-flex;\\r\\n  align-items: center;\\r\\n  margin-left: 0.5rem;\\r\\n}\\r\\n\\r\\n.message-status[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  font-size: 0.7rem;\\r\\n  opacity: 0.8;\\r\\n}\\r\\n\\r\\n\\r\\n@media (max-width: 768px) {\\r\\n  .message-bubble[_ngcontent-%COMP%] {\\r\\n    max-width: 85%;\\r\\n    padding: 0.6rem 0.8rem;\\r\\n  }\\r\\n  \\r\\n  .system-message-content[_ngcontent-%COMP%] {\\r\\n    max-width: 90%;\\r\\n    padding: 0.4rem 0.8rem;\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n.message-wrapper[_ngcontent-%COMP%]    + .message-wrapper.message-sent[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%], .message-wrapper[_ngcontent-%COMP%]    + .message-wrapper.message-received[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%] {\\r\\n  margin-top: -0.5rem;\\r\\n}\\r\\n\\r\\n\\r\\n.message-content[_ngcontent-%COMP%] {\\r\\n  max-height: 200px;\\r\\n  overflow-y: auto;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%]::-webkit-scrollbar {\\r\\n  width: 4px;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%]::-webkit-scrollbar-track {\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.message-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\r\\n  background: rgba(0, 0, 0, 0.2);\\r\\n  border-radius: 2px;\\r\\n}\\r\\n\\r\\n.message-sent[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\r\\n  background: rgba(255, 255, 255, 0.3);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsMkJBQTJCO0VBQzdCO0VBQ0E7SUFDRSxVQUFVO0lBQ1Ysd0JBQXdCO0VBQzFCO0FBQ0Y7O0FBRUEsb0JBQW9CO0FBQ3BCO0VBQ0UsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix5QkFBeUI7RUFDekIseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxPQUFPO0VBQ1Asa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixZQUFZO0FBQ2Q7O0FBRUEsMEJBQTBCO0FBQzFCO0VBQ0UsY0FBYztFQUNkLHFCQUFxQjtFQUNyQixtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQix3Q0FBd0M7RUFDeEMsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLHlDQUF5QztBQUMzQzs7QUFFQTtFQUNFLHFEQUFxRDtFQUNyRCxZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLG1DQUFtQztBQUNyQzs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsc0JBQXNCO0VBQ3RCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxvQkFBb0I7RUFDcEIsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixZQUFZO0FBQ2Q7O0FBRUEsMkJBQTJCO0FBQzNCO0VBQ0U7SUFDRSxjQUFjO0lBQ2Qsc0JBQXNCO0VBQ3hCOztFQUVBO0lBQ0UsY0FBYztJQUNkLHNCQUFzQjtFQUN4QjtBQUNGOztBQUVBLCtFQUErRTtBQUMvRTs7RUFFRSxtQkFBbUI7QUFDckI7O0FBRUEsc0NBQXNDO0FBQ3RDO0VBQ0UsaUJBQWlCO0VBQ2pCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLDhCQUE4QjtFQUM5QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxvQ0FBb0M7QUFDdEMiLCJzb3VyY2VzQ29udGVudCI6WyIubWVzc2FnZS13cmFwcGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zcyBlYXNlLWluO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGVJbiB7XHJcbiAgZnJvbSB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gIH1cclxufVxyXG5cclxuLyogU3lzdGVtIE1lc3NhZ2VzICovXHJcbi5zeXN0ZW0tbWVzc2FnZSB7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zeXN0ZW0tbWVzc2FnZS1jb250ZW50IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XHJcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICBjb2xvcjogIzZjNzU3ZDtcclxuICBtYXgtd2lkdGg6IDgwJTtcclxufVxyXG5cclxuLnN5c3RlbS1tZXNzYWdlLWljb24ge1xyXG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xyXG4gIGNvbG9yOiAjMDA3YmZmO1xyXG59XHJcblxyXG4uc3lzdGVtLW1lc3NhZ2UtdGV4dCB7XHJcbiAgZmxleDogMTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zeXN0ZW0tbWVzc2FnZS10aW1lIHtcclxuICBtYXJnaW4tbGVmdDogMC41cmVtO1xyXG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcclxuICBvcGFjaXR5OiAwLjc7XHJcbn1cclxuXHJcbi8qIFJlZ3VsYXIgQ2hhdCBNZXNzYWdlcyAqL1xyXG4ubWVzc2FnZS1idWJibGUge1xyXG4gIG1heC13aWR0aDogNzAlO1xyXG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcclxuICBib3JkZXItcmFkaXVzOiAxcmVtO1xyXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlO1xyXG59XHJcblxyXG4ubWVzc2FnZS1idWJibGU6aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcclxuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcclxufVxyXG5cclxuLm1lc3NhZ2Utc2VudCB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzAwN2JmZiwgIzAwNTZiMyk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwLjI1cmVtO1xyXG59XHJcblxyXG4ubWVzc2FnZS1yZWNlaXZlZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICBjb2xvcjogIzMzMztcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAuMjVyZW07XHJcbn1cclxuXHJcbi5tZXNzYWdlLXNlbmRlciB7XHJcbiAgZm9udC1zaXplOiAwLjc1cmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC4yNXJlbTtcclxuICBvcGFjaXR5OiAwLjg7XHJcbn1cclxuXHJcbi5tZXNzYWdlLXNlbnQgLm1lc3NhZ2Utc2VuZGVyIHtcclxuICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xyXG59XHJcblxyXG4ubWVzc2FnZS1yZWNlaXZlZCAubWVzc2FnZS1zZW5kZXIge1xyXG4gIGNvbG9yOiAjMDA3YmZmO1xyXG59XHJcblxyXG4ubWVzc2FnZS1jb250ZW50IHtcclxuICBtYXJnaW4tYm90dG9tOiAwLjI1cmVtO1xyXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XHJcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xyXG59XHJcblxyXG4ubWVzc2FnZS10aW1lIHtcclxuICBmb250LXNpemU6IDAuNzVyZW07XHJcbiAgb3BhY2l0eTogMC43O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbi5tZXNzYWdlLXN0YXR1cyB7XHJcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW4tbGVmdDogMC41cmVtO1xyXG59XHJcblxyXG4ubWVzc2FnZS1zdGF0dXMgaSB7XHJcbiAgZm9udC1zaXplOiAwLjdyZW07XHJcbiAgb3BhY2l0eTogMC44O1xyXG59XHJcblxyXG4vKiBSZXNwb25zaXZlIGFkanVzdG1lbnRzICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIC5tZXNzYWdlLWJ1YmJsZSB7XHJcbiAgICBtYXgtd2lkdGg6IDg1JTtcclxuICAgIHBhZGRpbmc6IDAuNnJlbSAwLjhyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC5zeXN0ZW0tbWVzc2FnZS1jb250ZW50IHtcclxuICAgIG1heC13aWR0aDogOTAlO1xyXG4gICAgcGFkZGluZzogMC40cmVtIDAuOHJlbTtcclxuICB9XHJcbn1cclxuXHJcbi8qIE1lc3NhZ2UgZ3JvdXBpbmcgLSByZWR1Y2UgbWFyZ2luIGZvciBjb25zZWN1dGl2ZSBtZXNzYWdlcyBmcm9tIHNhbWUgc2VuZGVyICovXHJcbi5tZXNzYWdlLXdyYXBwZXIgKyAubWVzc2FnZS13cmFwcGVyLm1lc3NhZ2Utc2VudCAubWVzc2FnZS1idWJibGUsXHJcbi5tZXNzYWdlLXdyYXBwZXIgKyAubWVzc2FnZS13cmFwcGVyLm1lc3NhZ2UtcmVjZWl2ZWQgLm1lc3NhZ2UtYnViYmxlIHtcclxuICBtYXJnaW4tdG9wOiAtMC41cmVtO1xyXG59XHJcblxyXG4vKiBTcGVjaWFsIHN0eWxpbmcgZm9yIGxvbmcgbWVzc2FnZXMgKi9cclxuLm1lc3NhZ2UtY29udGVudCB7XHJcbiAgbWF4LWhlaWdodDogMjAwcHg7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxufVxyXG5cclxuLm1lc3NhZ2UtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gIHdpZHRoOiA0cHg7XHJcbn1cclxuXHJcbi5tZXNzYWdlLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLm1lc3NhZ2UtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICBib3JkZXItcmFkaXVzOiAycHg7XHJcbn1cclxuXHJcbi5tZXNzYWdlLXNlbnQgLm1lc3NhZ2UtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAAkBA,WAAW,QAAQ,4BAA4B;;;;;ICC/DC,8BAA4D;IAExDA,oBAAmC;IACrCA,iBAAM;IACNA,8BAAiC;IAC/BA,YACF;IAAAA,iBAAM;IACNA,8BAAiC;IAC/BA,YACF;IAAAA,iBAAM;;;;IAPDA,eAA2B;IAA3BA,uCAA2B;IAG9BA,eACF;IADEA,uDACF;IAEEA,eACF;IADEA,qDACF;;;;;IAMAA,+BAA8F;IAC5FA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,+DACF;;;;;IAaAA,+BAAwD;IACtDA,wBAAyC;IAC3CA,iBAAM;;;;;IAnBRA,8BAAkF;IAEhFA,uEAEM;IAGNA,8BAA6B;IAC3BA,YACF;IAAAA,iBAAM;IAGNA,+BAA0B;IACxBA,YACF;IAAAA,iBAAM;IAGNA,wEAEM;IACRA,iBAAM;;;;IApB+CA,iDAA4B;IAEzEA,eAA+D;IAA/DA,qGAA+D;IAMnEA,eACF;IADEA,uDACF;IAIEA,eACF;IADEA,qDACF;IAGMA,eAAyB;IAAzBA,iDAAyB;;;ADvBnC,OAAM,MAAOC,gBAAgB;EAL7BC;IAQW,gBAAW,GAAY,KAAK;;EAErC,IAAIC,mBAAmB;IACrB,OAAO,IAAI,CAACC,OAAO,CAACC,MAAM,CAACC,EAAE,KAAK,IAAI,CAACC,WAAW,CAACD,EAAE;EACvD;EAEA,IAAIE,eAAe;IACjB,OAAO,IAAI,CAACJ,OAAO,CAACK,IAAI,KAAKV,WAAW,CAACW,IAAI,IAAI,IAAI,CAACN,OAAO,CAACK,IAAI,KAAKV,WAAW,CAACY,KAAK;EAC1F;EAEA,IAAIC,gBAAgB;IAClB,IAAI,IAAI,CAACJ,eAAe,EAAE;MACxB,OAAO,gBAAgB;;IAEzB,OAAO,IAAI,CAACL,mBAAmB,GAAG,cAAc,GAAG,kBAAkB;EACvE;EAEA,IAAIU,aAAa;IACf,MAAMC,GAAG,GAAG,IAAIC,IAAI,EAAE;IACtB,MAAMC,WAAW,GAAG,IAAID,IAAI,CAAC,IAAI,CAACX,OAAO,CAACa,SAAS,CAAC;IACpD,MAAMC,WAAW,GAAG,CAACJ,GAAG,CAACK,OAAO,EAAE,GAAGH,WAAW,CAACG,OAAO,EAAE,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;IAE9E,IAAID,WAAW,GAAG,EAAE,EAAE;MACpB;MACA,OAAOF,WAAW,CAACI,kBAAkB,CAAC,OAAO,EAAE;QAC7CC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE;OACT,CAAC;KACH,MAAM;MACL;MACA,OAAOP,WAAW,CAACQ,cAAc,CAAC,OAAO,EAAE;QACzCC,KAAK,EAAE,OAAO;QACdC,GAAG,EAAE,SAAS;QACdL,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE;OACT,CAAC;;EAEN;EAEA,IAAII,iBAAiB;IACnB,QAAQ,IAAI,CAACvB,OAAO,CAACK,IAAI;MACvB,KAAKV,WAAW,CAACW,IAAI;QACnB,OAAO,oBAAoB;MAC7B,KAAKX,WAAW,CAACY,KAAK;QACpB,OAAO,qBAAqB;MAC9B;QACE,OAAO,oBAAoB;IAAC;EAElC;;;uBArDWV,gBAAgB;IAAA;EAAA;;;YAAhBA,gBAAgB;MAAA2B;MAAAC;QAAAzB;QAAAG;QAAAuB;MAAA;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCT7BlC,8BAA0D;UAExDA,iEAUM;UAGNA,iEAoBM;UACRA,iBAAM;;;UApCuBA,8CAA4B;UAEjDA,eAAqB;UAArBA,0CAAqB;UAarBA,eAAsB;UAAtBA,2CAAsB","names":["MessageType","i0","MessageComponent","constructor","isSentByCurrentUser","message","sender","id","currentUser","isSystemMessage","type","JOIN","LEAVE","messageTypeClass","formattedTime","now","Date","messageTime","timestamp","diffInHours","getTime","toLocaleTimeString","hour","minute","hour12","toLocaleString","month","day","systemMessageIcon","selectors","inputs","isGroupChat","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\swatip\\Documents\\FSD Projects\\Chatting-Application\\frontend\\src\\app\\components\\message\\message.component.ts","C:\\Users\\swatip\\Documents\\FSD Projects\\Chatting-Application\\frontend\\src\\app\\components\\message\\message.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\r\nimport { Message, MessageType } from '../../models/message.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-message',\r\n  templateUrl: './message.component.html',\r\n  styleUrls: ['./message.component.css']\r\n})\r\nexport class MessageComponent {\r\n  @Input() message!: Message;\r\n  @Input() currentUser!: User;\r\n  @Input() isGroupChat: boolean = false;\r\n\r\n  get isSentByCurrentUser(): boolean {\r\n    return this.message.sender.id === this.currentUser.id;\r\n  }\r\n\r\n  get isSystemMessage(): boolean {\r\n    return this.message.type === MessageType.JOIN || this.message.type === MessageType.LEAVE;\r\n  }\r\n\r\n  get messageTypeClass(): string {\r\n    if (this.isSystemMessage) {\r\n      return 'system-message';\r\n    }\r\n    return this.isSentByCurrentUser ? 'message-sent' : 'message-received';\r\n  }\r\n\r\n  get formattedTime(): string {\r\n    const now = new Date();\r\n    const messageTime = new Date(this.message.timestamp);\r\n    const diffInHours = (now.getTime() - messageTime.getTime()) / (1000 * 60 * 60);\r\n\r\n    if (diffInHours < 24) {\r\n      // Show time only if message is from today\r\n      return messageTime.toLocaleTimeString('en-US', { \r\n        hour: '2-digit', \r\n        minute: '2-digit',\r\n        hour12: true \r\n      });\r\n    } else {\r\n      // Show date and time if message is older\r\n      return messageTime.toLocaleString('en-US', { \r\n        month: 'short', \r\n        day: 'numeric',\r\n        hour: '2-digit', \r\n        minute: '2-digit',\r\n        hour12: true \r\n      });\r\n    }\r\n  }\r\n\r\n  get systemMessageIcon(): string {\r\n    switch (this.message.type) {\r\n      case MessageType.JOIN:\r\n        return 'fas fa-sign-in-alt';\r\n      case MessageType.LEAVE:\r\n        return 'fas fa-sign-out-alt';\r\n      default:\r\n        return 'fas fa-info-circle';\r\n    }\r\n  }\r\n}","<div class=\"message-wrapper\" [ngClass]=\"messageTypeClass\">\r\n  <!-- System Messages (JOIN/LEAVE) -->\r\n  <div *ngIf=\"isSystemMessage\" class=\"system-message-content\">\r\n    <div class=\"system-message-icon\">\r\n      <i [class]=\"systemMessageIcon\"></i>\r\n    </div>\r\n    <div class=\"system-message-text\">\r\n      {{ message.content }}\r\n    </div>\r\n    <div class=\"system-message-time\">\r\n      {{ formattedTime }}\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Regular Chat Messages -->\r\n  <div *ngIf=\"!isSystemMessage\" class=\"message-bubble\" [ngClass]=\"messageTypeClass\">\r\n    <!-- Sender name for group chats and received messages -->\r\n    <div *ngIf=\"(isGroupChat || !isSentByCurrentUser) && !isSystemMessage\" class=\"message-sender\">\r\n      {{ message.sender.username }}\r\n    </div>\r\n    \r\n    <!-- Message content -->\r\n    <div class=\"message-content\">\r\n      {{ message.content }}\r\n    </div>\r\n    \r\n    <!-- Message timestamp -->\r\n    <div class=\"message-time\">\r\n      {{ formattedTime }}\r\n    </div>\r\n    \r\n    <!-- Message status indicator for sent messages -->\r\n    <div *ngIf=\"isSentByCurrentUser\" class=\"message-status\">\r\n      <i class=\"fas fa-check\" title=\"Sent\"></i>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}